# 代码备份工具

## 项目简介

**代码备份工具**是一个用于备份项目代码的脚本。它可以遍历指定的项目目录，生成项目的目录结构，并将所有源代码文件的内容以 Markdown 格式保存到指定的备份文件中。这样，您可以轻松地查看项目的结构和代码内容，方便分享、审阅或归档。

## 功能特性

- **项目目录结构生成**：递归遍历项目目录，生成类似于 VSCode 文件树的目录结构展示，清晰直观地呈现项目文件层级关系。
- **源代码备份**：自动收集常见编程语言的源代码文件，并将其内容嵌入到备份文件中，方便查看。
- **多次备份管理**：当存在同名项目备份时，自动添加数字后缀，防止文件覆盖，便于备份管理。
- **鲁棒性高**：具备异常处理机制，能够处理无权限访问的文件或目录，确保程序稳定运行。
- **进度提示**：在备份大量文件时，提供进度反馈，方便用户了解备份进度。

## 环境依赖

- **Python 3.x**：建议使用 Python 3.6 及以上版本。

## 使用方法

1. **运行脚本**：
2. **按照提示操作**：

   - **输入项目路径**：在提示信息中输入您要备份的项目的绝对路径。

     ```
     请输入项目路径（绝对路径）：
     > /path/to/your/project
     ```

   - **输入保存路径**：输入备份文件的保存路径（绝对路径）。如果直接按回车，将默认保存到脚本所在目录下的 `backup_code` 文件夹中。

     ```
     请输入保存备份文件的路径（绝对路径，默认保存到脚本所在目录下的 backup_code 文件夹）：
     > /path/to/save/backup
     ```

3. **查看备份结果**：

   - 程序将在指定的保存路径下创建一个以项目名称命名的文件夹。如存在同名文件夹，程序会自动添加数字后缀（例如 `MyProject_1`、`MyProject_2`），以避免覆盖原有备份。
   - 备份文件命名格式为：`项目名_YYYYMMDD_HHMM.md`，其中包含项目的目录结构和所有源代码文件的内容。

4. **继续操作**：

   - 在备份完成后，您可以选择继续备份其他项目或退出程序。

     ```
     请输入操作编号：
     1. 继续备份其他项目
     0. 退出程序
     > 1
     ```

## 支持的文件类型

程序默认支持以下常见编程语言的源代码文件：

- Python（`.py`）
- Java（`.java`）
- C/C++（`.c`、`.cpp`、`.h`）
- C#（`.cs`）
- JavaScript/TypeScript（`.js`、`.jsx`、`.ts`、`.tsx`）
- Ruby（`.rb`）
- Go（`.go`）
- PHP（`.php`）
- Swift（`.swift`）
- Kotlin（`.kt`）
- Objective-C（`.m`、`.mm`）
- ...

您可以根据需要在代码中扩展支持的文件类型。

## 注意事项

- **项目路径**：请确保输入的项目路径有效且可访问，且有权限读取其中的文件。
- **保存路径**：若指定的保存路径不存在，程序会尝试创建。如无法创建，请检查路径的有效性和权限。
- **文件权限**：在遍历目录时，若遇到无权限访问的文件或目录，程序会自动跳过，不影响备份过程。
- **文件编码**：程序默认使用 UTF-8 编码读取文件内容；如遇到编码错误，会尝试使用 Latin-1 编码。
- **备份管理**：为防止覆盖已有备份，程序在检测到同名项目时会自动添加数字后缀。请注意管理备份文件夹，避免占用过多存储空间。

## 常见问题

### 1. 为什么有些源代码文件未被备份？

请检查文件的扩展名是否在支持的文件类型列表中。如果需要备份其他类型的文件，请在代码的 `get_language_from_extension` 函数中添加对应的文件扩展名和语言映射。

### 2. 遇到权限错误怎么办？

程序在遇到无权限访问的文件或目录时，会自动跳过。如果需要备份这些内容，请以具有足够权限的用户身份运行程序，或者修改文件/目录的权限设置。

### 3. 备份文件过大，如何处理？

由于程序会将所有源代码文件的内容写入备份文件，项目较大时生成的 Markdown 文件也会较大。您可以：

- 手动删除不需要的部分（例如大型数据文件、日志文件等）。
- 修改程序，使其只备份目录结构，或仅备份特定的文件类型。

## 参与贡献

欢迎提出建议、报告问题或提交代码改进。您可以通过以下方式参与项目：

- 提交 Issue 或 Pull Request 到项目的 GitHub 仓库。

## 许可证

本项目采用 MIT 许可证开源，详情请参阅 [LICENSE](LICENSE) 文件。

---

感谢您使用 **代码备份工具**！如果您在使用过程中有任何问题或建议，欢迎与我联系。
